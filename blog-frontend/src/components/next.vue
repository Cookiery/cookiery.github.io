<template>
  <div class="next">
    <svg fill="none" :width="width" :height="height" role="img" :viewBox="`0 0 ${width} ${height}`" data-line="true">
      <path d="M388 96L388 68C388 65.7909 386.209 64 384 64L310 64" stroke="#000" stroke-opacity="0.1" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="1px 1px"></path>
      <path d="M349 150L73 150C70.7909 150 69 151.791 69 154L69 174" stroke="#000" stroke-opacity="0.1" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="1px 1px"></path>
      <path d="M412 96L412 0" stroke="url(#paint-linear-0)" stroke-opacity="0.1" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="1px 1px"></path>
      <path d="M436 96L436 0" stroke="url(#paint-linear-1)" stroke-opacity="0.1" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="1px 1px"></path>
      <path d="M484 96L484 24C484 21.7909 485.791 20 488 20L554 20" stroke="url(#paint-linear-2)" stroke-opacity="0.1" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="1px 1px"></path>
      <path d="M460 96L460 64" stroke="#000" stroke-opacity="0.1" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="1px 1px"></path>
      <path d="M460 239L460 184" stroke="#000" stroke-opacity="0.1" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="1px 1px" style="transform: scale(-1); transform-origin: 460px 211.5px;" transform-origin="460px 211.5px"></path>
      <path d="M484 184L484 210C484 212.209 485.791 214 488 214L560 214" stroke="#000" stroke-opacity="0.1" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="1px 1px"></path>
      <path d="M508 184L508 193C508 195.209 509.791 197 512 197L560 197" stroke="#000" stroke-opacity="0.1" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="1px 1px"></path>
      <path d="M436 214L436 184" stroke="#000" stroke-opacity="0.1" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="1px 1px" style="transform: scale(-1); transform-origin: 436px 199px;" transform-origin="436px 199px"></path>
      <g>
        <path d="M349 130L5.00002 130C2.79088 130 1.00001 131.791 1.00001 134L1.00001 264" stroke="#000" stroke-opacity="0.1" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="1px 1px"></path>
        <path d="M349 130L5.00002 130C2.79088 130 1.00001 131.791 1.00001 134L1.00001 264" stroke="url(#blue-pulse-1)" stroke-linecap="round" stroke-width="2"></path>
      </g>
      <g>
        <path d="M388 184L388 194C388 196.209 386.209 198 384 198L77 198C74.7909 198 73 199.791 73 202L73 264" stroke="#000" stroke-opacity="0.1" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="1px 1px"></path>
        <path d="M388 184L388 194C388 196.209 386.209 198 384 198L77 198C74.7909 198 73 199.791 73 202L73 264" stroke="url(#blue-pulse-2)" stroke-linecap="round" stroke-width="2"></path>
      </g>

      <g>
        <path d="M412 263.5L412 184" stroke="#000" stroke-opacity="0.1" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="1px 1px" style="transform: scale(-1); transform-origin: 412px 223.75px;" transform-origin="412px 223.75px"></path>
        <path d="M412 263.5L412 184" stroke="url(#pink-pulse-1)" stroke-linecap="round" stroke-width="2"></path>
      </g>
      <g>
        <path d="M547 150L633 150C635.209 150 637 151.791 637 154L637 236C637 238.209 635.209 240 633 240L488 240C485.791 240 484 241.791 484 244L484 264" stroke="#000" stroke-opacity="0.1" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="1px 1px"></path>
        <path d="M547 150L633 150C635.209 150 637 151.791 637 154L637 236C637 238.209 635.209 240 633 240L488 240C485.791 240 484 241.791 484 244L484 264" stroke="url(#pink-pulse-2)" stroke-linecap="round" stroke-width="2"></path>
      </g>

      <g>
        <path d="M547 130L822 130C824.209 130 826 131.791 826 134L826 264" stroke="#000" stroke-opacity="0.1" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="1px 1px"></path>
        <path d="M547 130L822 130C824.209 130 826 131.791 826 134L826 264" stroke="url(#orange-pulse-1)" stroke-width="2"></path>
      </g>
      <g>
        <path d="M508 96L508 88C508 85.7909 509.791 84 512 84L886 84C888.209 84 890 85.7909 890 88L890 264" stroke="#000" stroke-opacity="0.1" pathLength="1" stroke-dashoffset="0px" stroke-dasharray="1px 1px"></path>
        <path d="M508 96L508 88C508 85.7909 509.791 84 512 84L886 84C888.209 84 890 85.7909 890 88L890 264" stroke="url(#orange-pulse-2)" stroke-width="2"></path>
      </g>

      <circle class="circle" cx="460" cy="64" r="4" opacity="1"></circle>
      <circle class="circle" cx="308" cy="64" r="4" opacity="1"></circle>
      <circle class="circle" cx="69" cy="173" r="4" opacity="1"></circle>
      <circle class="circle" cx="436" cy="214" r="4" opacity="1"></circle>
      <circle class="circle" cx="460" cy="240" r="4" opacity="1"></circle>
      <circle class="circle" cx="560" cy="214" r="4" opacity="1"></circle>
      <circle class="circle" cx="560" cy="197" r="4" opacity="1"></circle>

      <defs>
        <linearGradient gradientUnits="userSpaceOnUse" id="paint-linear-0" x1="412.5" x2="412.5" y1="-3.27835e-08" y2="96">
          <stop stop-opacity="0"></stop>
          <stop offset="1"></stop>
        </linearGradient>
        <linearGradient gradientUnits="userSpaceOnUse" id="paint-linear-1" x1="436.5" x2="436.5" y1="-3.27835e-08" y2="96">
          <stop stop-opacity="0"></stop>
          <stop offset="1"></stop>
        </linearGradient>
        <linearGradient gradientUnits="userSpaceOnUse" id="paint-linear-2" x1="554" x2="484" y1="20" y2="96">
          <stop stop-opacity="0"></stop>
          <stop offset="1"></stop>
        </linearGradient>
        
        <linearGradient id="blue-pulse-1" ref="bluePulse1" gradientUnits="userSpaceOnUse" x1="0" y1="0" x2="0" y2="0">
          <stop stop-color="#2EB9DF" stop-opacity="0"></stop>
          <stop offset="0.05" stop-color="#2EB9DF"></stop>
          <stop offset="1" stop-color="#2EB9DF" stop-opacity="0"></stop>
        </linearGradient>

        <linearGradient id="blue-pulse-2" ref="bluePulse2" gradientUnits="userSpaceOnUse" x1="0" y1="0" x2="0" y2="0">
          <stop stop-color="#2EB9DF" stop-opacity="0"></stop>
          <stop offset="0.05" stop-color="#2EB9DF"></stop>
          <stop offset="1" stop-color="#2EB9DF" stop-opacity="0"></stop>
        </linearGradient>

        <linearGradient id="pink-pulse-1" ref="pinkPulse1" gradientUnits="userSpaceOnUse" x1="0" y1="0" x2="0" y2="0">
          <stop stop-color="#FF4A81" stop-opacity="0"></stop>
          <stop offset="0.030" stop-color="#FF4A81"></stop>
          <stop offset="0.27" stop-color="#DF6CF6"></stop>
          <stop offset="1" stop-color="#0196FF" stop-opacity="0"></stop>
        </linearGradient>
        
        <linearGradient id="pink-pulse-2" ref="pinkPulse2" gradientUnits="userSpaceOnUse" x1="0" y1="0" x2="0" y2="0">
          <stop stop-color="#FF4A81" stop-opacity="0"></stop>
          <stop offset="0.0564843" stop-color="#FF4A81"></stop>
          <stop offset="0.4616" stop-color="#DF6CF6"></stop>
          <stop offset="1" stop-color="#0196FF" stop-opacity="0"></stop>
        </linearGradient>

        <linearGradient id="orange-pulse-1" ref="orangePulse1" gradientUnits="userSpaceOnUse" x1="0" y1="0" x2="0" y2="0">
          <stop stop-color="#FF7432" stop-opacity="0"></stop>
          <stop offset="0.0550784" stop-color="#FF7432"></stop>
          <stop offset="0.373284" stop-color="#F7CC4B"></stop>
          <stop offset="1" stop-color="#F7CC4B" stop-opacity="0"></stop>
        </linearGradient>

        <linearGradient id="orange-pulse-2" ref="orangePulse2" gradientUnits="userSpaceOnUse" x1="620.3127714896109" y1="218.95033100096043" x2="663.9196779174963" y2="326.62204328749795">
          <stop stop-color="#FF7432" stop-opacity="0"></stop>
          <stop offset="0.0531089" stop-color="#FF7432"></stop>
          <stop offset="0.415114" stop-color="#F7CC4B"></stop>
          <stop offset="1" stop-color="#F7CC4B" stop-opacity="0"></stop>
        </linearGradient>

      </defs>

      <rect x="359" y="105" rx="10" ry="10" width="178" height="70" fill="grey" />
      <text x="448" y="153" text-anchor="middle" fill="#ffffff" font-size="38">CPU</text>

      <!-- left -->
      <rect x="349" y="125" class="connector"/>
      <rect x="349" y="145" class="connector"/>
      <!-- right -->
      <rect x="537" y="125" class="connector"/>
      <rect x="537" y="145" class="connector"/>
      <!-- up -->
      <rect x="383" y="96" class="connector"/>
      <rect x="407" y="96" class="connector"/>
      <rect x="431" y="96" class="connector"/>
      <rect x="455" y="96" class="connector"/>
      <rect x="479" y="96" class="connector"/>
      <rect x="503" y="96" class="connector"/>
      <!-- bottom -->
      <rect x="383" y="174" class="connector"/>
      <rect x="407" y="174" class="connector"/>
      <rect x="431" y="174" class="connector"/>
      <rect x="455" y="174" class="connector"/>
      <rect x="479" y="174" class="connector"/>
      <rect x="503" y="174" class="connector"/>
    </svg>
  </div>
</template>

<script lang="ts">
import { gsap } from "gsap";

export default {
  name: "Next",
  components:{
  },
  data() {
    return {
      width: 891,
      height: 264,
    };
  },
  methods: {

  },
  mounted() {
    const bluePulse1 = this.$refs.bluePulse1 as SVGLinearGradientElement;
    gsap.fromTo(bluePulse1, 
      {
        attr: { x1: 83, y1: 320, x2: 83, y2: 415, }
      },
      {
        attr: { x1: 400, y1: 83, x2: 350, y2: 135, },
        duration: 4,
        repeat: -1,
      }
    );

    const bluePulse2 = this.$refs.bluePulse2 as SVGLinearGradientElement;
    gsap.fromTo(bluePulse2, 
      {
        attr: { x1: 83, y1: 268, x2: 83, y2: 300, }
      },
      {
        attr: { x1: 400, y1: 83, x2: 350, y2: 135, },
        duration: 3,
        repeat: -1,
      }
    );

    const pinkPulse1 = this.$refs.pinkPulse1 as SVGLinearGradientElement;
    gsap.fromTo(pinkPulse1, 
      {
        attr: { x1: 412, y1: 264, x2: 412, y2: 304, }
      },
      {
        attr: { x1: 400, y1: 83, x2: 450, y2: 135, },
        duration: 2.5,
        repeat: -1,
      }
    );

    const pinkPulse2 = this.$refs.pinkPulse2 as SVGLinearGradientElement;
    gsap.fromTo(pinkPulse2, 
      {
        attr: { x1: 490, y1: 266, x2: 460, y2: 284, }
      },
      {
        attr: { x1: 475, y1: 120, x2: 488, y2: 150, },
        duration: 3.5,
        repeat: -1,
      }
    );

    const orangePulse1 = this.$refs.orangePulse1 as SVGLinearGradientElement;
    gsap.fromTo(orangePulse1,
      {
        attr: { x1: 780, y1: 230, x2: 800, y2: 340, },
      },
      {
        attr: { x1: 360, y1: 130, x2: 400, y2: 170, },
        duration: 2.5,
        repeat: -1,
      }
    );

    const orangePulse2 = this.$refs.orangePulse2 as SVGLinearGradientElement;
    gsap.fromTo(orangePulse2,
      {
        attr: { x1: 868, y1: 280, x2: 868, y2: 440, },
      },
      {
        attr: { x1: 300, y1: 140, x2: 400, y2: 180, },
        duration: 4,
        repeat: -1,
      }
    );

  },

}

</script>

<style scoped>
.circle {
  shape-rendering: geometricprecision;
  fill: #fff;
  stroke: #c9c9c9;
  stroke-width: 1;
}

.next {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 50vh;
}

.connector {
  width: 10px;
  height: 10px;
  position: absolute;
  display: flex;
  stroke: grey;
  stroke-width: 0.3;
}
</style>
